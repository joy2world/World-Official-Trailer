(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[88741],{627578:function(e,n,t){"use strict";var r=t(403322),a=t.n(r),o={};o._showErrorCallback=o._showErrorCallback||null,o.setShowHtmlErrorCallback=function(e){o._showErrorCallback=e},o.showError=function(e,n,t){var r=a()(e);return o.showHtmlError(r,n,t)},o.showHtmlError=function(e,n,t){"function"==typeof o._showErrorCallback&&o._showErrorCallback(e,n,t)},n.Z=o},230457:function(e,n,t){"use strict";var r=t(447186);n.Z=function(){return r.Z.isAuthenticated()&&!!r.Z.attributes.facebook_id&&!r.Z.isLimitedLogin()}},527082:function(e,n,t){"use strict";function r(e){var n=e.appliedProductFilters,t=e.autoCorrectionDisabled,r=e.filters,a=e.query,o=e.scope,i=e.selectedPinImgSig,u=[o,r,n,e.user,i,a].map((function(e){return null!=e?e:""})).join(":");return t?"auto-correction-disabled:"+u:u}function a(e){var n=e.autoCorrectionDisabled,t=void 0!==n&&n,r=e.appliedProductFilters,a=void 0===r?null:r,o=e.bubbleId,i=void 0===o?null:o,u=e.filters,s=void 0===u?null:u,c=e.query,d=void 0===c?null:c,p=e.rs,l=void 0===p?"direct_navigation":p,f=e.scope,y=void 0===f?"pins":f,m=e.selectedPinImgSig,b=void 0===m?null:m,v=e.sourceId;return{article:i,appliedProductFilters:a,auto_correction_disabled:t,corpus:b?"personalize":null,customized_rerank_type:b?"manas_graph_sage_only_wand_rewrite":null,filters:s,query:d,query_pin_sigs:b,redux_normalize_feed:!0,rs:l,scope:y,source_id:void 0===v?null:v,user:e.user}}function o(e){var n=e.autoCorrectionDisabled,t=e.appliedProductFilters,r=e.filters,o=e.selectedPinImgSig;return{name:"BaseSearchResource",options:a({autoCorrectionDisabled:!!n,appliedProductFilters:t,filters:r,query:e.query,rs:e.rs,scope:e.scope,selectedPinImgSig:o,bubbleId:e.bubbleId,user:e.user})}}t.d(n,{Tb:function(){return r},dM:function(){return a},Ht:function(){return o}})},317461:function(e,n,t){"use strict";t.d(n,{GY:function(){return u},PY:function(){return s},r$:function(){return c},LM:function(){return d}});var r=t(730762),a=t(281996),o=t(549135),i=["search_articles_story","search_pinner_authority_hero","shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2"];function u(e){var n=e.query,t=e.scope;return"".concat(n,"-").concat(t)}function s(e){return[e.category,e.domains,e.maxPrice,e.minPrice].map((function(e){return null!=e?e:""})).join("-")}function c(e){var n=e.query,t=e.rs,i=e.scope,u=r.Z.getInstance().getPreviousViewFromContext();if(!(!u.view_type&&!u.view_parameter)){var s=u.view_type,c=u.view_parameter;(0,o.j)((0,a.wF)(i),{view:s,viewParameter:c,query:n,rs:t||"Unknown"})}"hashtag_closeup"===t?(0,o.j)(101,{component:13065,element:10273,view:142}):"hashtag_pinrep"===t&&(0,o.j)(101,{component:0,element:10349,view:142})}var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=!0;return e.reduce((function(e,t){var r;return n&&t.story_type&&i.includes(t.story_type)&&0===(null===(r=t.display_options)||void 0===r?void 0:r.num_columns_requested)?e.searchFullWidthStories.push(t):(n=!1,e.filteredResults.push(t)),e}),{searchFullWidthStories:[],filteredResults:[]})}},282152:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(737614);function a(){var e=r.Z.instance,n=e.is_mobile_agent?"mobile":"desktop";return"".concat(n,".").concat(e.country,".").concat(e.user_agent_platform,".").concat(e.browser_name).replace(/ /g,"_")}},613330:function(e,n,t){"use strict";t.d(n,{DV:function(){return l},zX:function(){return m}});var r=t(317461),a=t(527082),o=t(881219),i=t(451104);function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach((function(n){c(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function d(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return p(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return p(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var l={AGGREGATED_COMMENTS:"aggregatedComments",BOARD_ACTIVITYITEMS:"boardActivityItems",BOARD_ACTIVITYCOMMENTS:"boardActivityComments",BOARD_PINS:"boardPins",BOARDLESS_PINS:"boardlessPins",BOARD_SECTIONS:"boardSections",CALL_TO_CREATE_RESPONSES_FEED:"callToCreateResponsesFeed",CREATED_TAB_STORY_PINS_FEED:"createdTabStoryPinsFeed",CREATED_TAB_ACTIVITY_PINS_FEED:"createdTabActivityPinsFeed",HOMEFEED_MORE_IDEAS_TABS:"homefeedMoreIdeasTabs",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",SECTION_PINS:"sectionPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unifiedComments",USER_DID_IT_DATA:"userDidItData"},f={ApiResource:function(e){var n=e.options;return null!=n&&n.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?{type:l.CALL_TO_CREATE_RESPONSES_FEED,id:n.pin_id}:null},AggregatedActivityFeedResource:function(e){var n=e.options.aggregated_pin_data_id;return{type:l.USER_DID_IT_DATA,id:n}},AggregatedCommentFeedResource:function(e){var n=e.options.objectId;return{type:l.AGGREGATED_COMMENTS,id:n}},AggregatedCommentReplyFeedResource:function(e){var n=e.options.objectId;return{type:l.AGGREGATED_COMMENTS,id:n,reversed:!0}},BoardActivityFeedResource:function(e){var n=e.options.board_id;return{type:l.BOARD_ACTIVITYITEMS,id:n}},BoardActivityCommentFeedResource:function(e){var n=e.options,t=n.activityId,r=n.parentType;return{type:l.BOARD_ACTIVITYCOMMENTS,id:t,reversed:"boardactivitycomment"===r}},BoardFeedResource:function(e){var n=e.options.board_id;return{type:l.BOARD_PINS,id:n}},BoardlessPinsResource:function(e){var n=e.options.userId;return{type:l.BOARDLESS_PINS,id:n}},BoardSectionPinsResource:function(e){var n=e.options.section_id;return{type:l.SECTION_PINS,id:n}},BoardSectionsResource:function(e){var n=e.options.board_id;return{type:l.BOARD_SECTIONS,id:n}},BoardsResource:function(e){var n=e.options,t=n.username,r=n.sort;return{type:l.PROFILE_BOARDS,id:(0,o.OV)(t,r)}},BaseSearchResource:function(e){var n,t=e.options,o=t.auto_correction_disabled,i=t.appliedProductFilters,u=t.scope,s=t.filters,c=t.query_pin_sigs,d=t.query,p=t.user,f=e.response;return{type:l.SEARCH_PINS,id:(0,a.Tb)({appliedProductFilters:i,autoCorrectionDisabled:o,filters:s,query:d,selectedPinImgSig:c,scope:u,user:p}),items:null!==(n=f.resource_response.data)&&void 0!==n&&n.results?(0,r.LM)(f.resource_response.data.results).filteredResults:[]}},DidItCommentsResource:function(e){var n=e.options.objectId;return{type:l.AGGREGATED_COMMENTS,id:n,reversed:!0}},DidItUserFeedResource:function(e){var n=e.options.username;return{type:l.USER_DID_IT_DATA,id:n}},IdeasHubTodayArticlesResource:function(e){var n=e.options.interest_id;return{type:l.TODAY_TAB,id:n}},MoreIdeasTabsResource:function(e){var n,t=e.response;return{type:l.HOMEFEED_MORE_IDEAS_TABS,id:"hf",items:(null===(n=t.resource_response.data)||void 0===n?void 0:n.tabs)||[]}},RelatedArticlesResource:function(e){var n=e.options.article_id;return{type:l.TODAY_TAB,id:n}},StoryPinDraftsResource:function(e){var n=e.options.userId;return{type:l.STORY_PIN_DATA,id:n}},TodayTabInterestFeedResource:function(e){var n=e.options.interest_id;return{type:l.TODAY_ARTICLE_INTEREST_FEED,id:n}},TodayTabResource:function(){return{type:l.TODAY_TAB,id:"todayTab"}},UnifiedCommentsPreviewResource:function(e){var n=e.options.aggregated_pin_id;return{type:l.UNIFIED_COMMENTS,id:n}},UnifiedCommentsResource:function(e){var n=e.options.aggregated_pin_id;return{type:l.UNIFIED_COMMENTS,id:n,reversed:!0}},UserActivityPinsResource:function(e){var n=e.options.user_id;return{type:l.CREATED_TAB_ACTIVITY_PINS_FEED,id:n}},UserStoryPinsFeedResource:function(e){var n=e.response,t=e.options.user_id;return{type:l.CREATED_TAB_STORY_PINS_FEED,id:t,items:n.resource_response.data||[]}}},y={aggregatedComments:{},boardActivityItems:{},boardActivityComments:{},boardlessPins:{},boardPins:{},boardSections:{},callToCreateResponsesFeed:{},createdTabStoryPinsFeed:{},createdTabActivityPinsFeed:{},homefeedMoreIdeasTabs:{},profileBoards:{},searchPins:{},sectionPins:{},storyPinData:{},todayArticleInterestFeed:{},todayTabFeed:{},unifiedComments:{},userDidItData:{}};function m(e,n,t){var r=d(e),a=r.splice(n,1)[0];return r.splice(t,0,a),r}var b=function(e,n){switch(e.type){case"story":return{id:e.id,type:"story",story_type:e.story_type};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return n===l.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"boardactivity":return{id:e.id,type:"boardactivity"};case"boardactivitycomment":return{id:e.id,type:"boardactivitycomment"};case"board_section":return{type:"board_section",id:e.id};case"userdiditdata":return{type:"userdiditdata",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"userdiditdata",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:return{type:"pin",id:e.id}}};n.ZP=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case i.zP:case i.aW:var t,r=n.payload,a=r.response.resource_response.data;if(null===(t=r.options)||void 0===t||!t.redux_normalize_feed)return e;var o=f[r.resource](r);if(o){var u=o.type,p=o.id,v=o.items,_=o.reversed,g=(v||a||[]).map((function(e){return b(e,u)}));_&&(g=g.reverse());var O=e[u][p];if(O||n.type!==i.aW){var A=O||[],T=g;return n.type===i.aW&&(T=_?g.concat(A):A.concat(g)),s(s({},e),{},c({},u,s(s({},e[u]),{},c({},p,T))))}}break;case"FEED_ITEM_REORDERED":var I=n.payload,S=I.feedType,E=I.feedId,h=I.itemType,C=I.targetItemId,P=I.sourceItemId,D=e[S]||{},R=D[E]||[],w=-1,N=-1;if([l.BOARD_PINS,l.SECTION_PINS,l.BOARD_SECTIONS,"profileBoards"].includes(S)&&(w=R.findIndex((function(e){return e.type===h&&e.id===P})),N=R.findIndex((function(e){return e.type===h&&e.id===C}))),-1!==w&&-1!==N)return s(s({},e),{},c({},S,s(s({},D),{},c({},E,m(R,w,N)))));break;case"FEED_ITEMS_REMOVED":var j=n.payload,M=j.feedType,k=j.feedId,B=j.inverseSelection,F=j.itemType,x=j.itemIds,U=void 0===x?[]:x,G=e[M]||{},Z=G[k];if(Z&&Z.length>0&&(M===l.SECTION_PINS||M===l.BOARD_PINS)){var L=Z.filter((function(e){var n=U.includes(e.id);return!(e.type===F&&(B&&!n||!B&&n))})),V=!!L.find((function(e){return"pin"===e.type}));return s(s({},e),{},c({},M,s(s({},G),{},c({},k,V?L:[]))))}if(Z&&Z.length>0&&M===l.BOARD_SECTIONS){var H=Z.filter((function(e){var n=U.includes(e.id);return!(e.type===F&&n)}));return s(s({},e),{},c({},M,s(s({},G),{},c({},k,H))))}if(Z&&Z.length>0&&(M===l.BOARD_ACTIVITYITEMS||M===l.AGGREGATED_COMMENTS||M===l.BOARD_ACTIVITYCOMMENTS||M===l.BOARDLESS_PINS||M===l.UNIFIED_COMMENTS||M===l.USER_DID_IT_DATA||M===l.STORY_PIN_DATA)){var Y=Z.filter((function(e){var n=U.includes(e.id);return!(e.type===F&&n)}));return s(s({},e),{},c({},M,s(s({},G),{},c({},k,Y))))}break;case"FEED_ITEMS_ADDED":var q=n.payload,W=q.feedType,$=q.feedId,z=q.itemType,K=q.itemIds,X=void 0===K?[]:K,J=q.prepend,Q=e[W]||{},ee=Q[$];if(ee&&(W===l.SECTION_PINS||W===l.BOARD_PINS||W===l.BOARDLESS_PINS)){var ne=X.map((function(e){return{id:e,type:z}})),te=0;"story"===(ee[0]||{}).type&&(te=1),"story"===(ee[1]||{}).type&&(te=2);var re=[].concat(d(ee.slice(0,te)),d(ne),d(ee.slice(te)));return s(s({},e),{},c({},W,s(s({},Q),{},c({},$,re))))}if(ee&&W===l.BOARD_SECTIONS){var ae=d(X).reverse().map((function(e){return{id:e,type:"board_section"}})),oe=ee?[].concat(d(ae),d(ee)):d(ae);return s(s({},e),{},c({},W,s(s({},Q),{},c({},$,oe))))}if(W===l.BOARD_ACTIVITYITEMS||W===l.AGGREGATED_COMMENTS||W===l.BOARD_ACTIVITYCOMMENTS||W===l.UNIFIED_COMMENTS){var ie=X.map((function(e){return{id:e,type:z}})),ue=ee?[].concat(d(J?ie:ee),d(J?ee:ie)):ie;return s(s({},e),{},c({},W,s(s({},Q),{},c({},$,ue))))}if(W===l.USER_DID_IT_DATA){var se=X.map((function(e){return{id:e,type:z}})),ce=ee?[].concat(d(se),d(ee)):se;return s(s({},e),{},c({},W,s(s({},e[W]),{},c({},$,ce))))}break;case"FEED_INVALIDATE":var de=n.payload,pe=de.feedType,le=de.feedId,fe=e[pe]||{};if(fe[le])return s(s({},e),{},c({},pe,s(s({},fe),{},c({},le,null))))}return e}},881219:function(e,n,t){"use strict";t.d(n,{OV:function(){return r},M0:function(){return a},$k:function(){return o}});var r=function(e,n){return"".concat(e,":").concat(n||"")},a=function(e,n){return e.feeds.profileBoards[r(n.username,n.boardOrder)]},o=function(e,n){return n.isOverview||n.inActivityView?"xxWide":n.isOwnProfile&&e.ui.views&&e.ui.views.profileBoardView||"wide"}},268648:function(e,n,t){"use strict";t.d(n,{Z:function(){return p},p:function(){return l}});var r=t(793550),a=t(539484),o=t(215828),i=t(272828),u=["children"];function s(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}function c(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,a,o=[],i=!0,u=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);i=!0);}catch(s){u=!0,a=s}finally{try{i||null==t.return||t.return()}finally{if(u)throw a}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return d(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return d(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function p(e){var n=e.externalData,t=e.href,u=e.onHistoryChange,s=e.target,d=c((0,r.useState)(null),2),p=d[0],l=d[1],f=c((0,r.useState)(!1),2),y=f[0],m=f[1],b=(0,i.k6)(),v=(0,i.TH)(),_=(0,a.Z)({url:t});return(0,r.useEffect)((function(){return m(!0),function(){m(!1)}}),[]),(0,r.useEffect)((function(){_&&null!=n&&n.pin&&null===p&&(0,o.$3)({location:v,pin:n.pin,surface:n.surface})&&(0,o.iw)({isMounted:y,pin:n.pin,location:v,spamCheckCallback:function(e){return l(e)},href:t})}),[n,t,_,y,v,p]),function(e){var r,a=e.event;(0,o.gV)({isOffsiteUrl:_,event:a})||(a.preventDefault(),t&&(_||null!=n&&n.dangerouslyForceOffsiteUrl?(0,o.lI)({auxData:null==n?void 0:n.auxData,href:t,pinId:null==n||null===(r=n.pin)||void 0===r?void 0:r.id,pin:null==n?void 0:n.pin,queryParams:null==n?void 0:n.queryParams,location:v,spamCheck:p}):(0,o.G3)({event:a,href:t,history:b,onHistoryChange:u,target:"blank"===s?"blank":null})))}}var l=function(e){return(0,e.children)({handleClick:p(s(e,u))})}},169039:function(e,n,t){"use strict";t.d(n,{Z:function(){return D}});var r=t(793550),a=t(762803),o=t(778170),i=t(46509),u=t(954321),s=t(403369),c=t(590606),d=t(299962),p=t(842310),l=t(974780),f=t(182513),y=t(940094),m=t(26382),b=t(576618),v=t(939606);function _(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,a,o=[],i=!0,u=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);i=!0);}catch(s){u=!0,a=s}finally{try{i||null==t.return||t.return()}finally{if(u)throw a}}return o}(e,n)||O(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,n){if(e){if("string"==typeof e)return A(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?A(e,n):void 0}}function A(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function T(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function I(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?T(Object(t),!0).forEach((function(n){S(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):T(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function S(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var E=(0,f.X)("PwtStopwatch"),h=function(e,n){if(l.Z){if("start"===n.type&&!e.isTiming){var t=n.name,r=n.startTime,a=n.navigationType;return(0,v.A9)("TIMING.".concat(t)),{isTiming:!0,name:t,isSampled:n.isSampled,startTime:"number"==typeof r?r:l.Z.now(),metricId:{type:"stopwatch",name:t,navigationType:a},pwtStaticContext:n.pwtStaticContext,annotations:e.annotations,binaryAnnotations:e.binaryAnnotations,spans:e.spans,traceId:e.traceId}}if(!e.isTiming){if(!n.bypassIsTimingCheck){var o=n.name||e.name;return E("ignoring action - stopwatch is not actively timing",n),(0,v.A9)("WARN.".concat(o,".noTiming.").concat(n.type)),e}E("allowing action while stopwatch is not actively timing (bypassIsTimingCheck is set to true)",n)}if("annotate"===n.type){var s=l.Z.now();return E("adding annotation {".concat(n.label,": ").concat(s,"}")),I(I({},e),{},{annotations:e.annotations.concat([{label:n.label,timestamp:s}])})}if("binaryAnnotate"===n.type)return E("adding binary annotation {".concat(n.name,": ").concat(String(n.value),"}")),I(I({},e),{},{binaryAnnotations:I(I({},e.binaryAnnotations),S({},n.name,{value:n.value,type:n.annotationType}))});if("binaryAnnotateOperation"===n.type){var f=n.binaryAnnotationValueAndType,_=f.value,O=f.type;if(e.binaryAnnotations[n.name]){var A=e.binaryAnnotations[n.name].value||0;return E("operating on binary annotation {\n          name: ".concat(n.name,"\n          pervious value: ").concat(String(A),"\n          operand: ").concat(String(_),"\n        }")),I(I({},e),{},{binaryAnnotations:I(I({},e.binaryAnnotations),S({},n.name,{value:_?n.operation(A,_):A,type:O}))})}return I(I({},e),{},{binaryAnnotations:I(I({},e.binaryAnnotations),S({},n.name,{value:_,type:O}))})}if("addSubspan"===n.type){E("adding subspan {".concat(n.name,"}")),-1!==e.spans.findIndex((function(e){return e.name===n.name}))&&E("WARNING: adding duplicate subspan name {".concat(n.name,"}"));var T=n.id||(0,c.Z)();-1!==e.spans.findIndex((function(e){return e.id===T}))&&E("WARNING: adding duplicate subspan id {".concat(n.name,": ").concat(T,"}"));var h=0;return n.startTime?h=n.startTime:e.startTime?h=e.startTime:E("WARNING: adding subspan {".concat(n.name,"} without start time")),I(I({},e),{},{spans:[].concat(g(e.spans),[{name:n.name,id:T,startTime:h,endTime:n.endTime||1/0,annotationMap:I({},n.annotations),binaryAnnotationMap:I({},n.binaryAnnotations),parentId:n.parentId}])})}if("subspanStart"===n.type){var C;E("starting subspan {".concat(n.name,"}")),-1!==e.spans.findIndex((function(e){return e.name===n.name}))&&E("WARNING: starting duplicate subspan name {".concat(n.name,"}"));var P=n.id||(0,c.Z)();-1!==e.spans.findIndex((function(e){return e.id===P}))&&E("WARNING: starting duplicate subspan id {".concat(n.name,": ").concat(P,"}"));var D=n.parentName?null===(C=e.spans.find((function(e){return e.name===n.parentName})))||void 0===C?void 0:C.id:null;return I(I({},e),{},{spans:[].concat(g(e.spans),[{name:n.name,id:P,parentId:n.parentId||D,startTime:l.Z.now(),endTime:1/0,annotationMap:I({},n.annotations),binaryAnnotationMap:I({},n.binaryAnnotations)}])})}if("subspanStop"===n.type){if(E("stopping subspan {".concat(n.name,"}")),!n.id)e.spans.reduce((function(e,t){return t.name===n.name&&e.push(t),e}),[]).length>1&&(0,v.H)("duplicate_subspan_stop_name",{name:n.name});var R=n.id?e.spans.findIndex((function(e){return e.id===n.id})):e.spans.findIndex((function(e){return e.name===n.name}));return R>-1?(e.spans[R].endTime=l.Z.now(),n.annotations&&(e.spans[R].annotationMap=I(I({},e.spans[R].annotationMap),n.annotations)),n.binaryAnnotations&&(e.spans[R].binaryAnnotationMap=I(I({},e.spans[R].binaryAnnotationMap),n.binaryAnnotations))):(0,v.H)("invalid_subspan_stop_name",{name:n.name}),e}if("stop"===n.type&&e.isTiming){var w=e.startTime,N=e.metricId,j=e.pwtStaticContext,M=e.annotations,k=e.binaryAnnotations,B=e.isSampled,F=e.spans,x=e.traceId;if(n.stopwatchPerformanceObserver&&n.stopwatchPerformanceObserver.disconnect(),B){var U=n.stopTime||l.Z.now(),G=g(F.map((function(e){return e.endTime===1/0&&(e.endTime=U),e})));if(n.manualAndResourceSpans||0===F.length){var Z=(0,c.Z)();G.push.apply(G,[{name:"network_resources",id:Z,startTime:w,endTime:U,annotationMap:{},binaryAnnotationMap:{},parentId:null}].concat(g((n.customStopwatchBuffer||[]).map((function(e){return(0,p.Z)((0,y.p)(e,[]),Z)})).filter(Boolean))))}var L="initial_app_load"===N.navigationType&&(0,u.Z)(),V={type:"COMPLETE",traceId:x,startTime:w,endTime:U,spans:G,annotationMap:I(I({},(0,i.Z)(M)),(0,b.jh)("browser_",L?(0,b.D3)(L):{})),binaryAnnotationMap:(0,m.n)({metricId:N,pwtStaticContext:j,binaryAnnotations:k,performanceResourceTimings:n.customStopwatchBuffer||[]})};(0,d.Z)({metricId:N,pwtStaticContext:j,result:V})}return{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,c.Z)()}}if("error"===n.type){var H=n.error,Y=n.stopwatchPerformanceObserver;return H&&(0,v.H)(H),Y&&Y.disconnect(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,c.Z)()}}if("abort"===n.type&&e.isTiming){n.stopwatchPerformanceObserver&&n.stopwatchPerformanceObserver.disconnect();var q=e.metricId,W=e.pwtStaticContext,$=n.reason||"";return(0,d.Z)({metricId:q,pwtStaticContext:W,result:{type:"ABORT",reason:$}}),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,c.Z)()}}}return e},C=function(e){var n=e.name,t=e.sampleRate,a=e.navigationType,i=e.manualAndResourceSpans,u=void 0!==i&&i,d=(0,o.N5)(),p=(0,r.useRef)([]),l=(0,r.useRef)(null),f=_((0,r.useReducer)(h,{isTiming:!1,name:n,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,c.Z)()}),2),y=f[0],m=f[1];return d?{isTiming:y.isTiming,start:function(e){if(window.PerformanceObserver){p.current=[],l.current=(0,s.Z)({entryTypes:["resource"]},(function(e){p.current=p.current.concat(e.getEntries()),p.current.length>1e3&&(p.current=p.current.slice(-1e3))}))}var r={type:"start",startTime:e,name:n,navigationType:a,pwtStaticContext:d,isSampled:!t||Math.random()<t};return m(r)},stop:function(e){return m({type:"stop",stopTime:e,stopwatchPerformanceObserver:l.current,customStopwatchBuffer:p.current,manualAndResourceSpans:u})},error:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){m({type:"error",stopwatchPerformanceObserver:l.current,error:e})})),abort:function(e){return m({type:"abort",stopwatchPerformanceObserver:l.current,customStopwatchBuffer:p.current,reason:e})},annotate:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return m({type:"annotate",label:e,parentId:n,bypassIsTimingCheck:t})},binaryAnnotate:function(e,n,t,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return m({type:"binaryAnnotate",name:e,value:n,annotationType:t,parentId:r,bypassIsTimingCheck:a})},binaryAnnotateOperation:function(e){var n=e.name,t=e.binaryAnnotationValueAndType,r=e.operation,a=e.parentId,o=e.bypassIsTimingCheck;return m({type:"binaryAnnotateOperation",name:n,binaryAnnotationValueAndType:t,operation:r,parentId:a,bypassIsTimingCheck:void 0!==o&&o})},addSubspan:function(e){var n=e.name,t=e.startTime,r=e.endTime,a=e.annotations,o=void 0===a?{}:a,i=e.binaryAnnotations,u=void 0===i?{}:i,s=e.parentId,c=void 0===s?null:s,d=e.id,p=void 0===d?null:d,l=e.bypassIsTimingCheck;return m({type:"addSubspan",name:n,startTime:t,endTime:r,annotations:o,binaryAnnotations:u,parentId:c,id:p,bypassIsTimingCheck:void 0!==l&&l})},subspanStart:function(e){var n=e.name,t=e.annotations,r=void 0===t?{}:t,a=e.binaryAnnotations,o=void 0===a?{}:a,i=e.parentId,u=void 0===i?null:i,s=e.parentName,c=void 0===s?null:s,d=e.id,p=void 0===d?null:d,l=e.bypassIsTimingCheck;return m({type:"subspanStart",name:n,annotations:r,binaryAnnotations:o,parentId:u,parentName:c,id:p,bypassIsTimingCheck:void 0!==l&&l})},subspanStop:function(e){var n=e.name,t=e.annotations,r=e.binaryAnnotations,a=e.id,o=e.parentId,i=e.bypassIsTimingCheck;return m({type:"subspanStop",name:n,annotations:t,binaryAnnotations:r,id:a,parentId:o,bypassIsTimingCheck:void 0!==i&&i})},getSpans:function(e,n){return y.spans.filter((function(t){return t[e]===n}))},getTraceId:function(){return y.traceId}}:null},P=t(80209),D=function(e){var n=e.name,t=(e.v2LoggerMetricName,e.sampleRate),i=e.abortOnUnloadOrClientNavigation,u=void 0===i||i,s=e.navigationType,c=e.manualAndResourceSpans,d=void 0!==c&&c,p=(0,a.js)("Stopwatch_".concat(n)),l=p.Provider;return{Provider:function(e){var a=e.children,i=C({name:n,sampleRate:t,navigationType:s,manualAndResourceSpans:d}),c=(0,o.fM)(),p=c?c.time:0,f=(0,r.useRef)(!1),y=null==i?void 0:i.isTiming,m=function(e){f.current?(f.current=!1,null==i||i.abort(e)):(0,v.A9)("WARN.".concat(n,".noTiming.abort"))};return(0,r.useEffect)((function(){return function(){u&&m("unloadOrClientNavigation")}}),[p]),(0,P.jsx)(l,{value:{isTiming:y,abort:m,addAnnotation:function(e,n){null==i||i.annotate(e,n)},addBinaryAnnotation:function(e,n,t,r){null==i||i.binaryAnnotate(e,n,t,r)},binaryAnnotationOperation:function(e){var n=e.name,t=e.binaryAnnotationValueAndType,r=e.operation,a=e.parentId,o=e.bypassIsTimingCheck;null==i||i.binaryAnnotateOperation({name:n,binaryAnnotationValueAndType:t,operation:r,parentId:a,bypassIsTimingCheck:o})},addSubspan:function(e){var n=e.name,t=e.startTime,r=e.endTime,a=e.annotations,o=e.binaryAnnotations,u=e.parentId,s=e.id,c=e.bypassIsTimingCheck;null==i||i.addSubspan({name:n,startTime:t,endTime:r,annotations:a,binaryAnnotations:o,parentId:u,id:s,bypassIsTimingCheck:c})},subspanStart:function(e){var n=e.name,t=e.annotations,r=e.binaryAnnotations,a=e.parentId,o=e.parentName,u=e.id,s=e.bypassIsTimingCheck;null==i||i.subspanStart({name:n,annotations:t,binaryAnnotations:r,parentId:a,parentName:o,id:u,bypassIsTimingCheck:s})},subspanStop:function(e){var n=e.name,t=e.annotations,r=e.binaryAnnotations,a=e.id,o=e.parentId,u=e.bypassIsTimingCheck;null==i||i.subspanStop({name:n,annotations:t,binaryAnnotations:r,id:a,parentId:o,bypassIsTimingCheck:u})},getSpans:function(e,n){return i?i.getSpans(e,n):[]},getTraceId:function(){return i?i.getTraceId():0},error:function(e){f.current?(f.current=!1,null==i||i.error(e)):(0,v.A9)("WARN.".concat(n,".noTiming.error"))},start:function(e){f.current&&(null==i||i.abort("duplicated_init_stopwatch_action")),f.current=!0,null==i||i.start(e)},stop:function(e){f.current?(f.current=!1,null==i||i.stop(e)):(0,v.A9)("WARN.".concat(n,".noTiming.stop"))}},children:a})},useHook:p.useHook}}},46509:function(e,n){"use strict";function t(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function r(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?t(Object(r),!0).forEach((function(n){a(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}n.Z=function(e){var n={};e.forEach((function(e){var t=e.label,o=e.timestamp;n=r(r({},n),{},a({},t,(n[t]||[]).concat([o])))}));var t=Object.freeze({});return Object.keys(n).forEach((function(e){(n[e]||[]).forEach((function(n,o){var i=o?"".concat(e,"_").concat(o+1):e;t=r(r({},t),{},a({},i,n))}))})),t}},81260:function(e,n,t){"use strict";function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}t.d(n,{RR:function(){return i},YB:function(){return u},yR:function(){return s},YL:function(){return c},pE:function(){return d},h8:function(){return p},Cc:function(){return l}});var i="0.8.0",u=9/16,s=8,c=10;function d(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return{x:(null!=e?e:24)/5,y:(null!=e?e:24)*(n-1)}}var p={COMMENT_REPLY_STICKER:"story_pin_comment_reply_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},l=a(a({},{alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1}),{},{font:{default_size:28,id:"1",key:"Graphik-Regular.otf",letter_spacing:-.4,line_height:1.25,name:"Teaspoon",url:"https://s.pinimg.com/story_pins/fonts/Graphik-Regular.otf"},font_size:28})},539484:function(e,n,t){"use strict";var r=t(508841);n.Z=function(e){var n=e.url;return!(!n||!n.match(/^https{0,1}:\/\//)||(0,r.Z)(n))}},192830:function(e,n,t){"use strict";t.d(n,{i5:function(){return D},sX:function(){return w},Z5:function(){return P},NG:function(){return R},MT:function(){return N}});var r=t(793550),a=t(575429),o=t(311866),i=t(365812),u=t.n(i);function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){d(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function d(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function p(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return l(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return l(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var f=function(e,n){return e.data[n]&&e.data[n].messages||[]};function y(e,n){var t={};return e.filter((function(e){return!!e})).reduce((function(e,r){var a=n(r);return t[a]?(u()(t[a],r),e):(t[a]=r,e.concat([r]))}),[])}function m(e){return p(e).sort((function(e,n){return new Date(e.created_ms||e.created_at)-new Date(n.created_ms||n.created_at)}))}function b(e,n,t){var r=f(e,n).concat(t);return m(r=y(r,(function(e){return e.id})))}var v={conversationsUnseenCount:0,data:{},newsHubCount:0,open:null,showConversationsDropdown:!1,ui:{},unread:0};function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,n=arguments.length>1?arguments[1]:void 0;if("CONVERSATION_OPEN"===n.type)return c(c({},e),{},{open:n.payload.id,ui:c(c({},e.ui),{},d({},n.payload.id,{contactRequestId:n.payload.contactRequestId||"",isPreview:n.payload.isPreview}))});if("CONVERSATION_CLOSE"===n.type)return c(c({},e),{},{open:null,ui:c(c({},e.ui),{},d({},n.payload.id,{contactRequestId:n.payload.contactRequestId||"",isPreview:!1,isDeclined:n.payload.isDeclined}))});if("CONVERSATION_CREATE"===n.type){var t=n.payload.id;return c(c({},e),{},{data:c(c({},e.data),{},d({},t,c(c({},e[t]||{}),n.payload)))})}if("CONVERSATION_DELETE"===n.type){var r=c(c({},e),{},{data:c({},e.data)}),a=n.payload.id;return delete r.data[a],r}if("FETCH_COMPLETE"===n.type){var o=n.payload,i=o.options,u=o.resource,s=o.response,p=s.resource_response.data;if("ConversationMessagesResource"===u){var l=p||[],_=(null==i?void 0:i.conversation_id)||"",g=b(e,_,l),O=g[g.length-1],A=c(c({},e),{},{data:c(c({},e.data),{},d({},_,c(c({},e.data[_]),{},{id:_,messages:g,unread:0,last_message:O})))});return A}if("ConversationsResource"===u){var T=p||[],I=c(c({},e),{},{data:c({},e.data)});return T.forEach((function(e){var n=e.id,t=e.created_at,r=e.name,a=e.board,o=e.emails,i=e.unread,u=e.users,s=e.last_message,d=b(I,n,[s]);I.data[n]=c(c({},I.data[n]),{},{id:n,created_at:t,name:r,board:a,emails:o||[],unread:i||0,users:u||[],last_message:s,messages:d})})),I}if("ConversationResource"===u){var S=p||{},E=S.id,h=c(c({},e),{},{data:c({},e.data)});return E&&(h.data[E]=c(c({},h.data[E]),S)),h}if("NewsHubBadgeResource"===u){if(p){var C=p.conversations_unseen_count||0;return c(c({},e),{},{unread:C})}return e}}else{if("MESSAGE_SEND_PENDING"===n.type){var P=n.payload,D=P.id,R=P.message;if(e.data[D]){var w=b(e,D,[R]);return c(c({},e),{},{data:c(c({},e.data),{},d({},D,c(c({},e.data[D]),{},{id:D,messages:w,last_message:R})))})}return e}if("MESSAGE_SEND_PENDING_CLEAR"===n.type){var N=n.payload,j=N.id,M=N.messageId,k=N.newMessageId;if(e.data[j]){var B=f(e,j).find((function(e){return e.id===M}));if(B){var F=c(c({},B),{},{id:k}),x=f(e,j).filter((function(e){return e.id!==M})).concat([F]);return x=m(x=y(x,(function(e){return e.id}))),c(c({},e),{},{data:c(c({},e.data),{},d({},j,c(c({},e.data[j]),{},{id:j,messages:x})))})}}return e}if("CLOSE_DROPDOWN"===n.type)return c(c({},e),{},{showConversationsDropdown:!1});if("OPEN_DROPDOWN"===n.type)return c(c({},e),{},{showConversationsDropdown:!0});if("UPDATE_NEWSHUB_COUNT"===n.type)return c(c({},e),{},{newsHubCount:n.payload});if("UPDATE_UNREAD_COUNT"===n.type)return c(c({},e),{},{conversationsUnseenCount:n.payload})}return e}var g=t(762803),O=t(886550),A=t(80209);function T(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,a,o=[],i=!0,u=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);i=!0);}catch(s){u=!0,a=s}finally{try{i||null==t.return||t.return()}finally{if(u)throw a}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return I(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return I(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var S,E=(S=0,function(){return S++}),h=(0,g.ZP)("Conversations"),C=h.Provider,P=h.useHook;function D(e){var n=e.children,t=T((0,r.useReducer)(_,v),2),a=t[0],i=t[1],u=(0,r.useCallback)((function(e){return i({type:"FETCH_COMPLETE",payload:e})}),[]);(0,O.Z8)("ConversationMessagesResource",u),(0,O.Z8)("ConversationsResource",u),(0,O.Z8)("ConversationResource",u),(0,O.Z8)("NewsHubBadgeResource",u);var s=(0,r.useMemo)((function(){return{conversations:a,conversationOpen:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return i({type:"CONVERSATION_OPEN",payload:{id:e,isPreview:n,contactRequestId:t}})},conversationClose:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return i({type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:n,isDeclined:t}})},conversationCreate:function(e){return i({type:"CONVERSATION_CREATE",payload:e})},conversationDelete:function(e){return i({type:"CONVERSATION_DELETE",payload:{id:e}})},conversationGet:function(e,n,t){o.ZP.create("ConversationsResource",{user_ids:e,emails:n,text:""}).callCreate().then((function(e){var n=e&&e.resource_response.data;i({type:"CONVERSATION_OPEN",payload:{id:n.id}})})).catch((function(e){var n=e.message_detail||e.message||"";t(n)}))},dropdownClose:function(){i({type:"CLOSE_DROPDOWN"})},dropdownOpen:function(){i({type:"OPEN_DROPDOWN"})},pendingMessageSend:function(e,n){return i({type:"MESSAGE_SEND_PENDING",payload:{id:e,message:n}})},pendingMessageClear:function(e,n,t){return i({type:"MESSAGE_SEND_PENDING_CLEAR",payload:{id:e,messageId:n,newMessageId:t}})},updateNewsHubCount:function(e){return i({type:"UPDATE_NEWSHUB_COUNT",payload:e})},updateUnreadCount:function(e){return i({type:"UPDATE_UNREAD_COUNT",payload:e})}}}),[a]);return(0,A.jsx)(C,{value:s,children:n})}function R(){var e=P(),n=e.conversations,t=e.conversationCreate,r=e.pendingMessageSend,i=e.pendingMessageClear,u=(0,a.useSelector)((function(e){return e.pins}));return function(e,a,s,c){return new Promise((function(d,p){var l=a.text,f=a.pinId,y=a.boardId,m=a.userId,b=a.didItId;function v(){var n=o.ZP.create("ConversationMessagesResource",{conversation_id:e,text:l,pin:f,board:y,user:m,user_did_it_data:b,source:s}),t="".concat(E());r(e,{text:l,sender:c,created_at:(new Date).toString(),created_ms:Date.now(),id:t,board:null,event_type:null,pin:f?u[f]:null,type:"message",user_did_it_data:null,user:null}),n.callCreate().then((function(n){i(e,t,n.resource_response.data.id),d()})).catch(p)}n.data[e]?v():o.ZP.create("ConversationResource",{conversation_id:e}).callGet().then((function(e){var n=e&&e.resource_response&&e.resource_response.data;t(n),v()}))}))}}function w(e){return P().conversations.data[e]}function N(e){return P().conversations.ui[e]||{contactRequestId:"",isDeclined:!1,isPreview:!1}}},463111:function(e,n,t){"use strict";t.d(n,{l:function(){return _},E:function(){return v}});var r=t(793550),a=t(762803);function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return i(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return i(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach((function(n){c(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if("SUGGESTIONS_FETCH_COMPLETE"===n.type){var t=n.payload;if("ShareSuggestionsResource"===t.resource){var r,a=n.payload.response.resource_response.data||[],i=null!==(r=t.options)&&void 0!==r?r:{},u=i.term,d=void 0===u?"":u;return s(s({},e),{},c({},d,e[d]?[].concat(o(e[d]),o(a)):a))}if("ShareSuggestionsTypeaheadResource"===t.resource){var p,l=n.payload.response.resource_response.data||{},f=l.items||[],y=null!==(p=t.options)&&void 0!==p?p:{},m=y.term,b=void 0===m?"":m;return s(s({},e),{},c({},b,e[b]?[].concat(o(e[b]),o(f)):f))}}return e}var p=t(886550),l=t(80209);function f(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,a,o=[],i=!0,u=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);i=!0);}catch(s){u=!0,a=s}finally{try{i||null==t.return||t.return()}finally{if(u)throw a}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return y(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return y(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var m=(0,a.ZP)("ShareSuggestions"),b=m.Provider,v=m.useHook;function _(e){var n=e.children,t=f((0,r.useReducer)(d,{}),2),a=t[0],o=t[1],i=function(e){o({type:"SUGGESTIONS_FETCH_COMPLETE",payload:e})};return(0,p.Z8)("ShareSuggestionsResource",i),(0,p.Z8)("ShareSuggestionsTypeaheadResource",i),(0,l.jsx)(b,{value:{shareSuggestions:a},children:n})}},464247:function(e,n,t){var r=t(853275),a=t(284918);e.exports=function(e,n){for(var t=0,o=(n=r(n,e)).length;null!=e&&t<o;)e=e[a(n[t++])];return t&&t==o?e:void 0}},309464:function(e){e.exports=function(e,n){return null!=e&&n in Object(e)}},895248:function(e){e.exports=function(e){return function(n){return null==e?void 0:e[n]}}},853275:function(e,n,t){var r=t(145239),a=t(226573),o=t(518149),i=t(911);e.exports=function(e,n){return r(e)?e:a(e,n)?[e]:o(i(e))}},941249:function(e,n,t){var r=t(895248)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=r},754363:function(e,n,t){var r=t(853275),a=t(946328),o=t(145239),i=t(550996),u=t(108494),s=t(284918);e.exports=function(e,n,t){for(var c=-1,d=(n=r(n,e)).length,p=!1;++c<d;){var l=s(n[c]);if(!(p=null!=e&&t(e,l)))break;e=e[l]}return p||++c!=d?p:!!(d=null==e?0:e.length)&&u(d)&&i(l,d)&&(o(e)||a(e))}},226573:function(e,n,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=t(145239),o=t(389627),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/;e.exports=function(e,n){if(a(e))return!1;var t=r(e);return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=e&&!o(e))||(u.test(e)||!i.test(e)||null!=n&&e in Object(n))}},403322:function(e,n,t){var r=t(941249),a=t(911),o=/[&<>"']/g,i=RegExp(o.source);e.exports=function(e){return(e=a(e))&&i.test(e)?e.replace(o,r):e}},811516:function(e,n,t){var r=t(309464),a=t(754363);e.exports=function(e,n){return null!=e&&a(e,n,r)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/88741-009e9ab22463d1f1.js.map